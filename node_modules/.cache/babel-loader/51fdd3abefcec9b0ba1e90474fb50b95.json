{"ast":null,"code":"import _classCallCheck from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/eksad/Documents/Projek Frontend/src/components/content/user/ListUser.js\";\nimport React from 'react';\nimport API from '../../../helpers/API';\nimport apiconfig from '../../../configs/api.config.json';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'; //import EditCompany from './editCompany';\n//import CreateCompany from './Createcompany';\n\nimport { Alert } from 'reactstrap'; //import DeleteCompany from './deleteCompany'\n//import ViewCompany from './viewCompany'\n//import $ from 'jquery'\n\nvar ListUser =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ListUser, _React$Component);\n\n  function ListUser(props) {\n    var _this;\n\n    _classCallCheck(this, ListUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListUser).call(this, props));\n    _this.state = {\n      showCreateUser: false,\n      user: [],\n      currentCompany: {},\n      alertData: {\n        status: 0,\n        message: '' // unit:[]\n\n      }\n    };\n    _this.showHandler = _this.showHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitHandler = _this.submitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.changeHandler=this.changeHandler.bind(this)\n\n    _this.unitHandler = _this.unitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModalHandler = _this.closeModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeHandler = _this.closeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteHandler = _this.deleteHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteModalHandler = _this.deleteModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.viewModalHandler = _this.viewModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editModalHandler = _this.editModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.modalStatus = _this.modalStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ListUser, [{\n    key: \"deleteModalHandler\",\n    value: function deleteModalHandler(userid) {\n      var tmp = {};\n      this.state.user.map(function (ele) {\n        if (userid == ele._id) {\n          tmp = ele;\n        }\n      });\n      this.setState({\n        currentUser: tmp,\n        deleteUser: true\n      });\n    }\n  }, {\n    key: \"viewModalHandler\",\n    value: function viewModalHandler(userId) {\n      var tmp = {};\n      this.state.user.map(function (ele) {\n        if (userId == ele._id) {\n          tmp = ele;\n        }\n      });\n      this.setState({\n        currentUser: tmp,\n        viewUser: true\n      });\n    }\n  }, {\n    key: \"editModalHandler\",\n    value: function editModalHandler(userid) {\n      var tmp = {};\n      this.state.user.map(function (ele) {\n        if (userid == ele._id) {//tmp =({_id:ele._id,code:ele.code,nameku:ele.name,phone:ele.phone,email:ele.email,address:ele.address})\n        }\n      });\n      this.setState({\n        currentUser: tmp,\n        editUser: true\n      });\n      alert(JSON.stringify(this.state.currentUser));\n    }\n  }, {\n    key: \"closeModalHandler\",\n    value: function closeModalHandler() {\n      this.setState({\n        viewUser: false,\n        editUser: false,\n        deleteUser: false\n      });\n    }\n  }, {\n    key: \"showHandler\",\n    value: function showHandler() {\n      this.setState({\n        showCreateUser: true\n      });\n    }\n  }, {\n    key: \"closeHandler\",\n    value: function closeHandler() {\n      this.setState({\n        showCreateUser: false\n      });\n    } // changeHandler(e){\n    //     let tmp=this.state.formdata\n    //     tmp[e.target.name]=e.target.value\n    //     this.setState({\n    //         formdata:tmp\n    //     })\n    // }\n\n  }, {\n    key: \"unitHandler\",\n    value: function unitHandler(e) {\n      var tmp = this.state.formdata;\n      tmp.m_unit_id = e.target.value;\n      this.setState({\n        formdata: tmp\n      });\n    }\n  }, {\n    key: \"submitHandler\",\n    value: function submitHandler() {//let token=localStorage.getItem(apiconfig.LS.TOKEN)\n\n      /* let option={\n          url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.USER,\n          method: \"post\",\n          headers:{\n              \"Authorization\": token,\n              \"Content-Type\" : \"application/json\"\n          },\n          data: this.state.formdata\n      }\n      axios(option)\n      .then((response)=>{\n          if(response.data.code===200){\n              alert('Success')\n              this.props.history.push('/dashboard')\n          } else {\n              alert(response.data.message)\n          }\n      })\n      .catch((error)=>{\n          console.log(error);            \n      }) */\n    }\n  }, {\n    key: \"getListUser\",\n    value: function getListUser() {\n      var _this2 = this;\n\n      //let token = localStorage.getItem(apiconfig.LS.TOKEN)\n\n      /* let option = {\n          url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.COMPANY,\n          method: \"get\",\n          headers: {\n              \"Authorization\": token\n          }\n      }\n      axios(option) */\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.USER + '/',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this2.setState({\n          user: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // componentWillMount(){\n    //     //this.loadData();\n    //     this.getListCompany()\n    // }\n    // componentDidMount(){\n    //     var self = this;\n    // \t$('#mytable').dataTable({\n    // \t  \"sPaginationType\": \"bootstrap\",\n    // \t  \"bAutoWidth\": false,\n    // \t  \"bDestroy\": true,\t\t\n    // \t  \"fnDrawCallback\": function() {\t\t  \t\t\n    //         \tself.forceUpdate();        \t\n    //       }, \n    // \t});\n    // }\n    // componentDidUpdate(){\n    //     $('#mytable').dataTable({\n    //      \"sPaginationType\": \"bootstrap\",\n    //      \"bAutoWidth\": false,\n    //      \"bDestroy\": true,\t\n    //    });\n    // }\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getListUser();\n    }\n  }, {\n    key: \"deleteHandler\",\n    value: function deleteHandler(param) {\n      var _this3 = this;\n\n      var token = localStorage.getItem(apiconfig.LS.TOKEN);\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.USER + '/' + param,\n        method: \"delete\",\n        headers: {\n          \"Authorization\": token\n        }\n      };\n      axios(option).then(function (response) {\n        var currentindex = -1;\n\n        _this3.state.user.map(function (ele, idx) {\n          if (ele._id == param) {\n            currentindex = idx;\n\n            _this3.props.history.goBack();\n          }\n        });\n\n        var tmp = _this3.state.user;\n        tmp.splice(currentindex, 1);\n\n        _this3.setState({\n          user: tmp\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"modalStatus\",\n    value: function modalStatus(status, message) {\n      this.setState({\n        alertData: {\n          status: status,\n          message: message\n        },\n        viewUser: false,\n        editUser: false,\n        deleteUser: false\n      });\n      this.getListUnit();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      // const SingleSouvRow=(props)=>{\n      //     // console.log(this.state.company.length)\n      //     // for(n<this.state.company.length;n++)\n      //      return(\n      //         <tr>\n      //             <td>{props.no}</td>\n      //             <td>{props.code}</td>\n      //             <td>{props.name}</td>\n      //             <td>{props.created_date}</td>\n      //             <td>{props.created_by}</td>\n      //             <td>\n      //                 <Link to='#'>\n      //                 <span onClick = {() => {props.viewModalHandler(props._id)}} className=\"fa fa-search\" style={{fontSize : '18px', paddingRight : '30px'}} />    \n      //                 <span onClick = {() => {props.editModalHandler(props._id)}} class=\"fa fa-edit\" style={{fontSize : '18px', paddingRight : '30px'}} />            \n      //                 <span onClick = {() => {props.deleteModalHandler(props._id)}} class=\"fa fa-trash\" style={{fontSize : '18px'}} />\n      //                 </Link>\n      //             </td>\n      //         </tr>\n      //     )\n      // }\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Home\"), \" \", React.createElement(\"span\", {\n        class: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"/\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Master\"), \" \", React.createElement(\"span\", {\n        class: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"/\")), React.createElement(\"li\", {\n        class: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"List Company\")), React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"List Company\"), this.state.alertData.status == 1 ? React.createElement(Alert, {\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \" \", this.state.alertData.message, \" \") : '', this.state.alertData.status == 2 ? React.createElement(Alert, {\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \" \", this.state.alertData.message, \" \") : '', React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        class: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Company Code\",\n        class: \"col-sm-3 padding=5px\",\n        id: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Company Name\",\n        class: \"col-sm-3 padding=5px\",\n        id: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"date\",\n        placeholder: \"Created date\",\n        class: \"col-sm-3 padding=5px datepicker\",\n        id: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Created By\",\n        class: \"col-sm-2 padding=5px\",\n        id: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-warning float-right \",\n        onClick: this.searchHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \" Search \"))), React.createElement(\"table\", {\n        id: \"mytable\",\n        class: \"table table-bordered table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, \"NO\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, \"USER ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"USERNAME\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, this.state.user.map(function (row, x) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, x + 1), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }, row.userid), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329\n          },\n          __self: this\n        }, row.username), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: function onClick() {\n            _this4.viewModalHandler(row._id);\n          },\n          className: \"fa fa-search\",\n          style: {\n            fontSize: '18px',\n            paddingRight: '30px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: function onClick() {\n            _this4.editModalHandler(row._id);\n          },\n          class: \"fa fa-edit\",\n          style: {\n            fontSize: '18px',\n            paddingRight: '30px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: function onClick() {\n            _this4.deleteModalHandler(row._id);\n          },\n          class: \"fa fa-trash\",\n          style: {\n            fontSize: '18px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336\n          },\n          __self: this\n        }))));\n      })))));\n    }\n  }]);\n\n  return ListUser;\n}(React.Component);\n\nexport default ListUser;","map":{"version":3,"sources":["/home/eksad/Documents/Projek Frontend/src/components/content/user/ListUser.js"],"names":["React","API","apiconfig","axios","Link","Alert","ListUser","props","state","showCreateUser","user","currentCompany","alertData","status","message","showHandler","bind","submitHandler","unitHandler","closeModalHandler","closeHandler","deleteHandler","deleteModalHandler","viewModalHandler","editModalHandler","modalStatus","userid","tmp","map","ele","_id","setState","currentUser","deleteUser","userId","viewUser","editUser","alert","JSON","stringify","e","formdata","m_unit_id","target","value","method","url","BASE_URL","ENDPOINTS","USER","headers","then","response","data","catch","error","console","log","getListUser","param","token","localStorage","getItem","LS","TOKEN","option","currentindex","idx","history","goBack","splice","getListUnit","searchHandler","row","x","username","fontSize","paddingRight","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport API from '../../../helpers/API';\nimport apiconfig from '../../../configs/api.config.json'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\n//import EditCompany from './editCompany';\n//import CreateCompany from './Createcompany';\nimport { Alert } from 'reactstrap'\n//import DeleteCompany from './deleteCompany'\n//import ViewCompany from './viewCompany'\n//import $ from 'jquery'\n\n\n\nclass ListUser extends React.Component {\n    constructor(props){\n      \n        super(props)\n        this.state={\n            showCreateUser:false,\n            user:[],\n            currentCompany:{},\n            alertData: {\n                status: 0,\n                message: ''\n            }\n            // unit:[]\n        }\n        this.showHandler=this.showHandler.bind(this)\n        this.submitHandler=this.submitHandler.bind(this)\n        // this.changeHandler=this.changeHandler.bind(this)\n        this.unitHandler=this.unitHandler.bind(this)\n        this.closeModalHandler = this.closeModalHandler.bind(this)\n        this.closeHandler=this.closeHandler.bind(this)\n        this.deleteHandler=this.deleteHandler.bind(this)\n        this.deleteModalHandler = this.deleteModalHandler.bind(this)\n        this.viewModalHandler = this.viewModalHandler.bind(this)\n        this.editModalHandler = this.editModalHandler.bind(this)\n        this.modalStatus = this.modalStatus.bind(this)\n    }\n\n    deleteModalHandler(userid) {\n        let tmp = {}\n        this.state.user.map((ele) => {\n            if (userid == ele._id) {\n                tmp = ele\n            }\n        })\n        this.setState({\n            currentUser : tmp,\n            deleteUser : true\n        })\n    }\n    \n    \n\n    viewModalHandler(userId) {\n        let tmp = {}\n        this.state.user.map((ele) => {\n            if (userId == ele._id) {\n                tmp = ele\n            }\n        })\n        this.setState({\n            currentUser : tmp,\n            viewUser : true\n        })\n    }\n\n    editModalHandler(userid) {\n        let tmp = {}\n    \n        this.state.user.map((ele) => {\n            if (userid == ele._id) {\n                //tmp =({_id:ele._id,code:ele.code,nameku:ele.name,phone:ele.phone,email:ele.email,address:ele.address})\n            }\n        })\n        this.setState({                      \n            currentUser : tmp,\n            editUser : true\n        })\n        alert(JSON.stringify(this.state.currentUser))\n    }\n\n    closeModalHandler() {\n        this.setState({\n            viewUser : false,\n            editUser : false,\n            deleteUser : false    \n        })\n    }\n\n    showHandler(){\n        this.setState({showCreateUser:true})\n    }\n\n    closeHandler(){\n        this.setState({showCreateUser:false})\n    }\n\n    // changeHandler(e){\n    //     let tmp=this.state.formdata\n    //     tmp[e.target.name]=e.target.value\n    //     this.setState({\n    //         formdata:tmp\n    //     })\n    // }\n    \n    unitHandler(e){\n        let tmp=this.state.formdata\n        tmp.m_unit_id=e.target.value\n        this.setState({\n            formdata:tmp\n        })\n    }\n    submitHandler(){\n        //let token=localStorage.getItem(apiconfig.LS.TOKEN)\n        /* let option={\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.USER,\n            method: \"post\",\n            headers:{\n                \"Authorization\": token,\n                \"Content-Type\" : \"application/json\"\n            },\n            data: this.state.formdata\n        }\n        axios(option)\n        .then((response)=>{\n            if(response.data.code===200){\n                alert('Success')\n                this.props.history.push('/dashboard')\n            } else {\n                alert(response.data.message)\n            }\n        })\n        .catch((error)=>{\n            console.log(error);            \n        }) */\n    }\n    getListUser() {\n        //let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        /* let option = {\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.COMPANY,\n            method: \"get\",\n            headers: {\n                \"Authorization\": token\n            }\n        }\n        axios(option) */\n        axios({method: 'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.USER+'/',headers: {\n            'Content-Type': 'application/json',\n            'Accepted-Language': 'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                user: response.data\n                \n            })\n           \n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n    \n    // componentWillMount(){\n    //     //this.loadData();\n    //     this.getListCompany()\n    // }\n\n    // componentDidMount(){\n    //     var self = this;\n \t// \t$('#mytable').dataTable({\n\t// \t  \"sPaginationType\": \"bootstrap\",\n\t// \t  \"bAutoWidth\": false,\n\t// \t  \"bDestroy\": true,\t\t\n\t// \t  \"fnDrawCallback\": function() {\t\t  \t\t\n    //         \tself.forceUpdate();        \t\n    //       }, \n\t// \t});\n    // }\n\n    // componentDidUpdate(){\n    //     $('#mytable').dataTable({\n    //      \"sPaginationType\": \"bootstrap\",\n    //      \"bAutoWidth\": false,\n    //      \"bDestroy\": true,\t\n    //    });\n    // }\n    componentDidMount(){\n        this.getListUser()\n    }\n    deleteHandler(param){\n        let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        let option = {\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.USER+'/'+param,\n            method: \"delete\",\n            headers: {\n                \"Authorization\": token\n            }\n        }\n        axios(option)\n        .then((response)=>{\n            let currentindex = -1\n            this.state.user.map((ele, idx)=>{\n                if(ele._id==param){\n                    currentindex=idx\n                    this.props.history.goBack()\n                }\n            })\n            let tmp=this.state.user\n            tmp.splice(currentindex,1)\n            this.setState({\n                user: tmp\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n    modalStatus(status, message) {\n        this.setState({\n            alertData : {\n                status : status,\n                message : message\n            },\n            viewUser : false,\n            editUser : false,\n            deleteUser : false    \n        })\n        this.getListUnit()\n    }\n     \n    render(){\n        // const SingleSouvRow=(props)=>{\n    \n        //     // console.log(this.state.company.length)\n        //     // for(n<this.state.company.length;n++)\n        //      return(\n        //         <tr>\n        //             <td>{props.no}</td>\n        //             <td>{props.code}</td>\n        //             <td>{props.name}</td>\n        //             <td>{props.created_date}</td>\n        //             <td>{props.created_by}</td>\n        //             <td>\n        //                 <Link to='#'>\n        //                 <span onClick = {() => {props.viewModalHandler(props._id)}} className=\"fa fa-search\" style={{fontSize : '18px', paddingRight : '30px'}} />    \n                        \n        //                 <span onClick = {() => {props.editModalHandler(props._id)}} class=\"fa fa-edit\" style={{fontSize : '18px', paddingRight : '30px'}} />            \n                        \n        //                 <span onClick = {() => {props.deleteModalHandler(props._id)}} class=\"fa fa-trash\" style={{fontSize : '18px'}} />\n                            \n        //                 </Link>\n        //             </td>\n        //         </tr>\n        //     )\n        // }\n    return (\n        <div>\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#\">Home</a> <span class=\"divider\">/</span></li>\n            <li><a href=\"#\">Master</a> <span class=\"divider\">/</span></li>\n            <li class=\"active\">List Company</li>\n        </ul>\n       \n        <div class=\"container\">\n            <h4>List Company</h4>\n\n             {\n                (this.state.alertData.status == 1) ? <Alert color =\"success\"> {this.state.alertData.message} </Alert>:''\n            }\n            {\n                (this.state.alertData.status == 2) ? <Alert color =\"danger\"> {this.state.alertData.message} </Alert>: ''\n            }\n\n\n                {/* <button type=\"button\" class=\"btn btn-primary float-right\"\n                onClick ={this.showHandler}> Add </button>\n                <CreateCompany\n                create = {this.state.showCreateCompany}\n                closeHandler={this.closeHandler} />\n                <ViewCompany\n                view = {this.state.viewCompany}\n                closeModalHandler = {this.closeModalHandler} \n                company = {this.state.currentCompany}\n                />\n                <DeleteCompany\n                delete = {this.state.deleteCompany}\n                company = {this.state.currentCompany}\n                closeModalHandler = {this.closeModalHandler}\n                modalStatus = {this.modalStatus}\n                 />\n                <EditCompany\n                edit = {this.state.editCompany}\n                closeModalHandler = {this.closeModalHandler}\n                companytest = {this.state.currentCompany} \n                modalStatus = {this.modalStatus}\n                /> */}\n                <br/> <br/>\n                <form class=\"form-inline\">\n                <div class =\"container\">\n                <input type=\"text\" placeholder=\"Company Code\" class=\"col-sm-3 padding=5px\" id=\"text\"/>\n                <input type=\"text\" placeholder=\"Company Name\" class=\"col-sm-3 padding=5px\" id=\"text\"/>\n                <input type=\"date\" placeholder=\"Created date\" class=\"col-sm-3 padding=5px datepicker\" id=\"date\"/>\n                <input type=\"text\" placeholder=\"Created By\" class=\"col-sm-2 padding=5px\" id=\"text\"/>\n                \n                <button type=\"button\" class=\"btn btn-warning float-right \" \n                onClick ={this.searchHandler}> Search </button>\n                </div>\n                </form>\n                <table id=\"mytable\" class=\"table table-bordered table-striped\">\n                    <thead>\n                    <tr>\n                        <th>NO</th>\n                        <th>USER ID</th>\n                        <th>USERNAME</th> \n                        <th>Action</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                       {\n                          \n                           \n                            this.state.user.map((row,x)=>\n                                <tr>\n                                  <td>{x+1}</td>\n                                  <td>{row.userid}</td>\n                                  <td>{row.username}</td>\n                                  <td>\n                                  <Link to='#'>\n                       <span onClick = {() => {this.viewModalHandler(row._id)}} className=\"fa fa-search\" style={{fontSize : '18px', paddingRight : '30px'}} />    \n                        \n                      <span onClick = {() => {this.editModalHandler(row._id)}} class=\"fa fa-edit\" style={{fontSize : '18px', paddingRight : '30px'}} />            \n                        \n                         <span onClick = {() => {this.deleteModalHandler(row._id)}} class=\"fa fa-trash\" style={{fontSize : '18px'}} />\n                            \n                      </Link>\n                    </td>\n                                </tr>\n                             \n                           \n                        \n                            )\n                       }\n                       \n                         {/* <tr>\n                                                <td>Misc</td>\n                                                <td>NetFront 3.1</td>\n                                                <td>Embedded devices</td>\n                                                <td>-</td>\n                                                <td>C</td>\n                                            </tr>\n                                            <tr>\n                                                <td>Misc</td>\n                                                <td>NetFront 3.4</td>\n                                                <td>Embedded devices</td>\n                                                <td>-</td>\n                                                <td>A</td>\n                                            </tr>\n                                            <tr>\n                                                <td>Misc</td>\n                                                <td>Dillo 0.8</td>\n                                                <td>Embedded devices</td>\n                                                <td>-</td>\n                                                <td>X</td>\n                                            </tr> */}\n                    </tbody>\n                </table>\n                </div>\n                </div>\n        )\n    }\n}\n\n        \nexport default ListUser"]},"metadata":{},"sourceType":"module"}