{"ast":null,"code":"import _classCallCheck from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/eksad/Documents/Projek Frontend/src/components/content/mahasiswa/EditMahasiswa.js\";\nimport React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap';\nimport axios from 'axios';\nimport apiconfig from '../../../configs/api.config.json';\nimport Select from 'react-select';\n\nvar EditMahasiswa =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditMahasiswa, _React$Component);\n\n  function EditMahasiswa(props) {\n    var _this;\n\n    _classCallCheck(this, EditMahasiswa);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditMahasiswa).call(this, props)); // let userdata=\"\"\n    // if(localStorage.getItem(apiconfig.LS.TOKEN)!= null){\n    //let   userdata =JSON.parse(localStorage.getItem(apiconfig.LS.USERDATA))\n    // }        \n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditMahasiswa).call(this, props));\n    _this.state = {\n      formdata: {\n        id: 0,\n        nim: '',\n        kdjur: '',\n        alamat: '',\n        tanggalLahir: ''\n      }\n    };\n    _this.submitHandler = _this.submitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeHandler = _this.changeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditMahasiswa, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      console.log(newProps);\n      this.setState({\n        formdata: newProps.usertest\n      }); // alert(JSON.stringify(newProps.companytest))\n    }\n  }, {\n    key: \"changeHandler\",\n    value: function changeHandler(e) {\n      var tmp = this.state.formdata;\n      tmp[e.target.name] = e.target.value;\n      this.setState({\n        formdata: tmp\n      }); //alert(JSON.stringify(tmp))\n    }\n  }, {\n    key: \"submitHandler\",\n    value: function submitHandler() {\n      var _this2 = this;\n\n      //let token = localStorage.getItem(apiconfig.LS.TOKEN)\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.MAHASISWA,\n        method: \"put\",\n        headers: {\n          //\"Authorization\": token,\n          \"Content-Type\": \"application/json\"\n        },\n        data: this.state.formdata\n      };\n      axios(option).then(function (response) {\n        // console.log(this.state.formdata)\n        if (response.data.parameterNilai === 1) {\n          alert('Success');\n\n          _this2.props.history.push('/listMahasiswa');\n\n          _this2.props.closeModalHandler();\n        } else {\n          alert(response.status);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log(this.state.formdata)\n      //ATUR SELECTBOX KOTA & PROV\n      var options1 = [];\n      this.state.provinsi.map(function (row, x) {\n        return options1.push({\n          \"value\": row.kode,\n          \"label\": row.nama\n        });\n      });\n      var options2 = [];\n      this.state.kota.map(function (row, x) {\n        return options2.push({\n          \"value\": row.kode,\n          \"label\": row.nama,\n          \"link\": row.kdprov\n        });\n      });\n      console.log(options2);\n      var filteredOptions = options2.filter(function (o) {\n        return o.link === _this3.state.selectedOptionProv.value;\n      });\n      return React.createElement(Modal, {\n        isOpen: this.props.edit,\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \" Edit Mahasiswa\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        class: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \" *ID Mahasiswa: \"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        readOnly: true,\n        name: \"id\",\n        value: this.state.formdata.id,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \" *Nama Mahasiswa : \"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"nama\",\n        value: this.state.formdata.nama,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \" *NIM : \"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"nim\",\n        value: this.state.formdata.nim,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Kode Jurusan\"), React.createElement(\"select\", {\n        class: \"form-control\",\n        name: \"kdjur\",\n        value: this.state.formdata.kdjur,\n        onChange: this.changeHandler,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"PILIH JURUSAN\"), this.state.jurusan.map(function (row, x) {\n        return React.createElement(\"option\", {\n          value: row.kode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, row.kode);\n      }))), React.createElement(\"div\", {\n        class: \"input-group mb-5 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Provinsi\"), React.createElement(Select, {\n        class: \"form-control\",\n        name: \"provinsi\",\n        label: this.state.selectedOptionProv.value,\n        value: this.state.selectedOptionProv.value,\n        onChange: this.handleChange1,\n        options: options1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Kota\"), React.createElement(Select, {\n        class: \"form-control\",\n        name: \"kota\",\n        label: this.state.selectedOptionKot.value,\n        value: this.state.selectedOptionKot.value,\n        onChange: this.handleChange2,\n        options: filteredOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" *Alamat : \"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"phone\",\n        value: this.state.formdata.alamat,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \" *Tanggal Lahir : \"), React.createElement(\"input\", {\n        type: \"date\",\n        class: \"form-control\",\n        name: \"tanggalLahir\",\n        value: this.state.formdata.tanggalLahir,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Button, {\n        color: \"warning\",\n        onClick: this.props.closeModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return EditMahasiswa;\n}(React.Component);\n\nexport default EditMahasiswa;","map":{"version":3,"sources":["/home/eksad/Documents/Projek Frontend/src/components/content/mahasiswa/EditMahasiswa.js"],"names":["React","Modal","ModalBody","ModalFooter","ModalHeader","Button","axios","apiconfig","Select","EditMahasiswa","props","state","formdata","id","nim","kdjur","alamat","tanggalLahir","submitHandler","bind","changeHandler","newProps","console","log","setState","usertest","e","tmp","target","name","value","option","url","BASE_URL","ENDPOINTS","MAHASISWA","method","headers","data","then","response","parameterNilai","alert","history","push","closeModalHandler","status","catch","error","options1","provinsi","map","row","x","kode","nama","options2","kota","kdprov","filteredOptions","filter","o","link","selectedOptionProv","edit","className","jurusan","handleChange1","selectedOptionKot","handleChange2","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap'\nimport axios from 'axios'\nimport apiconfig from '../../../configs/api.config.json'\nimport Select from 'react-select'\n\nclass EditMahasiswa extends React.Component {\n    constructor (props) {\n        super(props)\n        // let userdata=\"\"\n        // if(localStorage.getItem(apiconfig.LS.TOKEN)!= null){\n         //let   userdata =JSON.parse(localStorage.getItem(apiconfig.LS.USERDATA))\n       // }        \n       \n        super(props)\n        this.state = {\n            formdata: {\n                id:0,\n                nim:'',\n                kdjur:'',\n                alamat:'',\n                tanggalLahir:''\n            }\n        }\n        this.submitHandler = this.submitHandler.bind(this)\n        this.changeHandler = this.changeHandler.bind(this)\n    }\n\n    componentWillReceiveProps(newProps) {\n        console.log(newProps)\n        this.setState({\n            formdata : newProps.usertest\n        })\n       // alert(JSON.stringify(newProps.companytest))\n    }\n\n    changeHandler(e) {\n        \n        let tmp = this.state.formdata\n        tmp[e.target.name]=e.target.value\n        this.setState({\n            formdata:tmp\n        })\n        //alert(JSON.stringify(tmp))\n    }\n\n    submitHandler() {\n        //let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        let option = {\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.MAHASISWA,\n            method: \"put\",\n            headers:{\n                //\"Authorization\": token,\n                \"Content-Type\" : \"application/json\"\n            },\n            data: this.state.formdata\n           \n        }\n        axios(option)\n        .then((response) => { \n            // console.log(this.state.formdata)\n            if(response.data.parameterNilai === 1) {\n                alert('Success')\n                this.props.history.push('/listMahasiswa')\n                this.props.closeModalHandler()\n            } else {\n                alert(response.status)\n            }\n        })\n        .catch((error) => {\n            console.log(error);            \n        })\n    }\n\n    render(){\n        // console.log(this.state.formdata)\n\n        //ATUR SELECTBOX KOTA & PROV\n        const options1 = []\n        this.state.provinsi.map((row,x)=>\n            options1.push({\"value\":row.kode, \"label\":row.nama})\n        )\n        \n          const options2 = []\n          this.state.kota.map((row,x)=>\n            options2.push({\"value\":row.kode, \"label\":row.nama, \"link\":row.kdprov})\n            )\n            console.log(options2)\n      \n          const filteredOptions = options2.filter((o) => o.link === this.state.selectedOptionProv.value)\n        return(\n            <Modal isOpen={this.props.edit} className={this.props.className}>\n                <ModalHeader> Edit Mahasiswa</ModalHeader>\n                <ModalBody >\n                <form class=\"form-inline\">\n                    <div class =\"input-group mb-3 input-group-sm\">\n                        <label for=\"text\"> *ID Mahasiswa: </label>\n                        <input type=\"text\" class=\"form-control\" readOnly\n                        name=\"id\" \n                        value={this.state.formdata.id}  \n                        onChange={this.changeHandler} />\n                                               \n                    </div>\n                    <div class =\"input-group mb-3 input-group-sm\">\n                        <label for=\"text\"> *Nama Mahasiswa : </label>\n                        <input type=\"text\" class=\"form-control\" \n                        name=\"nama\" \n                        value={this.state.formdata.nama} \n                        onChange={this.changeHandler} />\n                    </div>\n                \n                    <div class =\"input-group mb-3 input-group-sm\"> \n                    <label for=\"text\"> *NIM : </label>\n                        <input type=\"text\" class=\"form-control\" \n                        name=\"nim\" \n                        value={this.state.formdata.nim} \n                        onChange={this.changeHandler} />\n                     {/* <label for=\"text\"> *Kode Jurusan : </label>\n                        <input type=\"text\" class=\"form-control\"\n                        name=\"kdjur\" \n                        value={this.state.formdata.kdjur} \n                        onChange={this.changeHandler}/> */}\n                    </div>\n                    <div class=\"input-group mb-3 input-group-sm\">\n                     <label for=\"text\">Kode Jurusan</label>\n                    <select class=\"form-control\" \n                    name=\"kdjur\" value={this.state.formdata.kdjur} onChange={this.changeHandler} required>\n                    <option value=\"\">PILIH JURUSAN</option>\n                    {\n                        this.state.jurusan.map((row,x)=>\n                        <option value={row.kode}>{row.kode}</option>\n                        )\n                    }\n                    \n                    </select>\n                </div>\n                <div class =\"input-group mb-5 input-group-sm\">\n                        <p>Provinsi</p>\n                        <Select class=\"form-control\"\n                        name=\"provinsi\"\n                        label={this.state.selectedOptionProv.value}\n                        value={this.state.selectedOptionProv.value}\n                        onChange={this.handleChange1}\n                        options={options1}\n                        />\n                        <p>Kota</p>\n                        <Select class=\"form-control\"\n                        name=\"kota\"\n                        label={this.state.selectedOptionKot.value}\n                        value={this.state.selectedOptionKot.value}\n                        onChange={this.handleChange2}\n                        options={filteredOptions}\n                        />\n                </div>\n                    \n                    <div class =\"input-group mb-3 input-group-sm\">\n                    <label for=\"text\"> *Alamat : </label>\n                        <input type=\"text\" class=\"form-control\"\n                        name=\"phone\" \n                        value={this.state.formdata.alamat} \n                        onChange={this.changeHandler}/> \n                   </div>\n                   \n                   <div class =\"input-group mb-3 input-group-sm\">\n                        <label for=\"text\"> *Tanggal Lahir : </label>\n                        <input type=\"date\" class=\"form-control\" \n                        name=\"tanggalLahir\" \n                        value={this.state.formdata.tanggalLahir} \n                        onChange={this.changeHandler} />\n                    </div>\n                </form>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"primary\" onClick ={this.submitHandler}>Save</Button>\n                    <Button color=\"warning\" onClick={this.props.closeModalHandler}>Cancel</Button>\n                </ModalFooter>\n            </Modal>\n        )\n    }\n}\nexport default EditMahasiswa"]},"metadata":{},"sourceType":"module"}