{"ast":null,"code":"import _defineProperty from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/eksad/Documents/Projek Frontend/src/components/content/krs/ListKrs.js\";\nimport React from 'react';\nimport apiconfig from '../../../configs/api.config.json';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport EditKrs from './EditKrs';\nimport CreateKrs from './CreateKrs';\nimport { Alert } from 'reactstrap';\nimport DeleteKrs from './DeleteKrs';\nimport ViewKrs from './ViewKrs';\nimport MuiDataTable from 'mui-datatables';\n\nvar ListKrs =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ListKrs, _React$Component);\n\n  function ListKrs(props) {\n    var _this;\n\n    _classCallCheck(this, ListKrs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListKrs).call(this, props));\n    _this.state = {\n      showCreateKrs: false,\n      krs: [],\n      jurusan: [],\n      kota: [],\n      provinsi: [],\n      currentKrs: {},\n      alertData: {\n        status: 0,\n        message: '' // unit:[]\n\n      }\n    };\n    _this.showHandler = _this.showHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitHandler = _this.submitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this))); // this.changeHandler=this.changeHandler.bind(this)\n\n    _this.unitHandler = _this.unitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModalHandler = _this.closeModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeHandler = _this.closeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteHandler = _this.deleteHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.deleteModalHandler = _this.deleteModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.viewModalHandler = _this.viewModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editModalHandler = _this.editModalHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.modalStatus = _this.modalStatus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ListKrs, [{\n    key: \"deleteModalHandler\",\n    value: function deleteModalHandler(id) {\n      var tmp = {};\n      this.state.krs.map(function (row) {\n        if (id == row.id) {\n          tmp = row;\n        }\n      });\n      this.setState({\n        currentKrs: tmp,\n        deleteKrs: true\n      });\n    }\n  }, {\n    key: \"viewModalHandler\",\n    value: function viewModalHandler(id) {\n      //alert(userId)\n      var tmp = {};\n      this.state.krs.map(function (row) {\n        if (id == row.id) {\n          tmp = row;\n        }\n      });\n      this.setState({\n        currentKrs: tmp,\n        viewKrs: true\n      }); //alert(JSON.stringify(this.state.currentUser))\n    }\n  }, {\n    key: \"editModalHandler\",\n    value: function editModalHandler(id) {\n      var tmp = {};\n      this.state.krs.map(function (row) {\n        if (id == row.id) {\n          tmp = row;\n        }\n      });\n      this.setState({\n        currentKrs: tmp,\n        editKrs: true\n      }); //alert(JSON.stringify(this.state.currentUser))\n    }\n  }, {\n    key: \"closeModalHandler\",\n    value: function closeModalHandler() {\n      this.setState({\n        viewKrs: false,\n        editKrs: false,\n        deleteKrs: false\n      });\n    }\n  }, {\n    key: \"showHandler\",\n    value: function showHandler() {\n      this.setState({\n        showCreateKrs: true\n      });\n    }\n  }, {\n    key: \"closeHandler\",\n    value: function closeHandler() {\n      this.setState({\n        showCreateKrs: false\n      });\n    } // changeHandler(e){\n    //     let tmp=this.state.formdata\n    //     tmp[e.target.name]=e.target.value\n    //     this.setState({\n    //         formdata:tmp\n    //     })\n    // }\n\n  }, {\n    key: \"unitHandler\",\n    value: function unitHandler(e) {\n      var tmp = this.state.formdata;\n      tmp.m_unit_id = e.target.value;\n      this.setState({\n        formdata: tmp\n      });\n    }\n  }, {\n    key: \"submitHandler\",\n    value: function submitHandler() {\n      var _this2 = this;\n\n      var token = localStorage.getItem(apiconfig.LS.TOKEN);\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.MAHASISWA,\n        method: \"post\",\n        headers: {\n          \"Authorization\": token,\n          \"Content-Type\": \"application/json\"\n        },\n        data: this.state.formdata\n      };\n      axios(option).then(function (response) {\n        if (response.data.parameterNilai === 1) {\n          alert('Success');\n\n          _this2.props.history.push('/dashboard');\n        } else {\n          alert(response.data.message);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"getlistData\",\n    value: function getlistData() {\n      var _this3 = this;\n\n      //let token = localStorage.getItem(apiconfig.LS.TOKEN)\n      // let option = {\n      //     url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.COMPANY,\n      //     method: \"get\",\n      //     headers: {\n      //         \"Authorization\": token\n      //     }\n      // }\n      // axios(option)\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.MAHASISWA,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this3.setState({\n          krs: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      }); //ambil jurusan\n\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.JURUSAN.UTAMA,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this3.setState({\n          jurusan: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      }); //ambil kota\n\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.KOTA,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this3.setState({\n          kota: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      }); //ambil provinsi\n\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.PROVINSI,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this3.setState({\n          provinsi: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // componentWillMount(){\n    //     //this.loadData();\n    //     this.getListCompany()\n    // }\n    // componentDidMount(){\n    //     var self = this;\n    // \t$('#mytable').dataTable({\n    // \t  \"sPaginationType\": \"bootstrap\",\n    // \t  \"bAutoWidth\": false,\n    // \t  \"bDestroy\": true,\t\t\n    // \t  \"fnDrawCallback\": function() {\t\t  \t\t\n    //         \tself.forceUpdate();        \t\n    //       }, \n    // \t});\n    // }\n    // componentDidUpdate(){\n    //     $('#mytable').dataTable({\n    //      \"sPaginationType\": \"bootstrap\",\n    //      \"bAutoWidth\": false,\n    //      \"bDestroy\": true,\t\n    //    });\n    // }\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getlistData();\n    }\n  }, {\n    key: \"deleteHandler\",\n    value: function deleteHandler(param) {\n      var _this4 = this;\n\n      var token = localStorage.getItem(apiconfig.LS.TOKEN);\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.KRS + param,\n        method: \"delete\",\n        headers: {\n          \"Authorization\": token\n        }\n      };\n      axios(option).then(function (response) {\n        var currentindex = -1;\n\n        _this4.state.krs.map(function (ele, idx) {\n          if (ele._id == param) {\n            currentindex = idx;\n\n            _this4.props.history.goBack();\n          }\n        });\n\n        var tmp = _this4.state.krs;\n        tmp.splice(currentindex, 1);\n\n        _this4.setState({\n          krs: tmp\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"modalStatus\",\n    value: function modalStatus(status, message) {\n      this.setState({\n        alertData: {\n          status: status,\n          message: message\n        },\n        viewKrs: false,\n        editKrs: false,\n        deleteKrs: false\n      });\n      this.getListUnit();\n    }\n  }, {\n    key: \"searchHandler\",\n    value: function searchHandler(e) {\n      var _this5 = this;\n\n      var i = e.target.value;\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.KRS + i,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this5.setState({\n          krs: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this,\n          _React$createElement;\n\n      var columns = [\"ID\", \"Kode KRS\", \"NIM\", \"Mata Kuliah Yang Diambil\", \"SKS\", \"Action\"];\n      var data = [];\n      this.state.krs.map(function (row) {\n        var tmp = [];\n        tmp.push(row.id, row.kode, row.nim, row.kdMatkul, row.sks, React.createElement(Link, {\n          to: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: function onClick() {\n            _this6.viewModalHandler(row.id);\n          },\n          className: \"fa fa-search\",\n          style: {\n            fontSize: '18px',\n            paddingRight: '30px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: function onClick() {\n            _this6.editModalHandler(row.id);\n          },\n          class: \"fa fa-edit\",\n          style: {\n            fontSize: '18px',\n            paddingRight: '30px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          onClick: function onClick() {\n            _this6.deleteModalHandler(row.id);\n          },\n          class: \"fa fa-trash\",\n          style: {\n            fontSize: '18px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        })));\n        data.push(tmp);\n      });\n      var options = {\n        filter: false,\n        responsive: \"scroll\",\n        print: false,\n        download: false,\n        selectableRows: false,\n        viewRows: false,\n        rowsPerPage: 5\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"Home\"), \" \", React.createElement(\"span\", {\n        class: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, \"/\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, \"Master\"), \" \", React.createElement(\"span\", {\n        class: \"divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, \"/\")), React.createElement(\"li\", {\n        class: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, \"List Krs\")), React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, \"List Krs\"), this.state.alertData.status == 1 ? React.createElement(Alert, {\n        color: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, \" \", this.state.alertData.message, \" \") : '', this.state.alertData.status == 2 ? React.createElement(Alert, {\n        color: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, \" \", this.state.alertData.message, \" \") : '', React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-primary float-right\",\n        onClick: this.showHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \" Add \"), React.createElement(CreateKrs, {\n        create: this.state.showCreateKrs,\n        modalStatus: this.modalStatus,\n        closeHandler: this.closeHandler,\n        jur: this.state.jurusan,\n        kota: this.state.kota,\n        provinsi: this.state.provinsi,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }), React.createElement(ViewKrs, {\n        modalStatus: this.modalStatus,\n        view: this.state.ViewKrs,\n        closeModalHandler: this.closeModalHandler,\n        krs: this.state.currentKrs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }), React.createElement(DeleteKrs, (_React$createElement = {\n        modalStatus: this.modalStatus,\n        delete: this.state.deleteKrs,\n        krs: this.state.currentKrs,\n        closeModalHandler: this.closeModalHandler\n      }, _defineProperty(_React$createElement, \"modalStatus\", this.modalStatus), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement)), React.createElement(EditKrs, {\n        edit: this.state.editKrs,\n        closeModalHandler: this.closeModalHandler,\n        usertest: this.state.currentKrs,\n        modalStatus: this.modalStatus,\n        jurusan: this.state.jurusan,\n        kota: this.state.kota,\n        provinsi: this.state.provinsi,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }), React.createElement(MuiDataTable, {\n        data: data,\n        columns: columns,\n        options: options,\n        title: \"User Data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ListKrs;\n}(React.Component);\n\nexport default ListKrs;","map":{"version":3,"sources":["/home/eksad/Documents/Projek Frontend/src/components/content/krs/ListKrs.js"],"names":["React","apiconfig","axios","Link","EditKrs","CreateKrs","Alert","DeleteKrs","ViewKrs","MuiDataTable","ListKrs","props","state","showCreateKrs","krs","jurusan","kota","provinsi","currentKrs","alertData","status","message","showHandler","bind","submitHandler","unitHandler","closeModalHandler","closeHandler","deleteHandler","deleteModalHandler","viewModalHandler","editModalHandler","modalStatus","id","tmp","map","row","setState","deleteKrs","viewKrs","editKrs","e","formdata","m_unit_id","target","value","token","localStorage","getItem","LS","TOKEN","option","url","BASE_URL","ENDPOINTS","MAHASISWA","method","headers","data","then","response","parameterNilai","alert","history","push","catch","error","console","log","JURUSAN","UTAMA","KOTA","PROVINSI","getlistData","param","KRS","currentindex","ele","idx","_id","goBack","splice","getListUnit","i","columns","kode","nim","kdMatkul","sks","fontSize","paddingRight","options","filter","responsive","print","download","selectableRows","viewRows","rowsPerPage","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;IAGMC,O;;;;;AACF,mBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAEd,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAW;AAEPC,MAAAA,aAAa,EAAC,KAFP;AAGPC,MAAAA,GAAG,EAAC,EAHG;AAIPC,MAAAA,OAAO,EAAC,EAJD;AAKPC,MAAAA,IAAI,EAAC,EALE;AAMPC,MAAAA,QAAQ,EAAC,EANF;AAOPC,MAAAA,UAAU,EAAC,EAPJ;AAQPC,MAAAA,SAAS,EAAE;AACPC,QAAAA,MAAM,EAAE,CADD;AAEPC,QAAAA,OAAO,EAAE,EAFF,CAIX;;AAJW;AARJ,KAAX;AAcA,UAAKC,WAAL,GAAiB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAjB;AACA,UAAKC,aAAL,GAAmB,MAAKA,aAAL,CAAmBD,IAAnB,uDAAnB,CAlBc,CAmBd;;AACA,UAAKE,WAAL,GAAiB,MAAKA,WAAL,CAAiBF,IAAjB,uDAAjB;AACA,UAAKG,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBH,IAAvB,uDAAzB;AACA,UAAKI,YAAL,GAAkB,MAAKA,YAAL,CAAkBJ,IAAlB,uDAAlB;AACA,UAAKK,aAAL,GAAmB,MAAKA,aAAL,CAAmBL,IAAnB,uDAAnB;AACA,UAAKM,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBN,IAAxB,uDAA1B;AACA,UAAKO,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBP,IAAtB,uDAAxB;AACA,UAAKQ,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBR,IAAtB,uDAAxB;AACA,UAAKS,WAAL,GAAmB,MAAKA,WAAL,CAAiBT,IAAjB,uDAAnB;AA3Bc;AA4BjB;;;;uCAEkBU,E,EAAI;AACnB,UAAIC,GAAG,GAAG,EAAV;AACA,WAAKtB,KAAL,CAAWE,GAAX,CAAeqB,GAAf,CAAmB,UAACC,GAAD,EAAS;AACxB,YAAIH,EAAE,IAAIG,GAAG,CAACH,EAAd,EAAkB;AACdC,UAAAA,GAAG,GAAGE,GAAN;AACH;AACJ,OAJD;AAKA,WAAKC,QAAL,CAAc;AACVnB,QAAAA,UAAU,EAAGgB,GADH;AAEVI,QAAAA,SAAS,EAAG;AAFF,OAAd;AAIH;;;qCAIgBL,E,EAAI;AACjB;AACA,UAAIC,GAAG,GAAG,EAAV;AACA,WAAKtB,KAAL,CAAWE,GAAX,CAAeqB,GAAf,CAAmB,UAACC,GAAD,EAAS;AACxB,YAAIH,EAAE,IAAIG,GAAG,CAACH,EAAd,EAAkB;AACdC,UAAAA,GAAG,GAAGE,GAAN;AACH;AACJ,OAJD;AAKA,WAAKC,QAAL,CAAc;AACVnB,QAAAA,UAAU,EAAGgB,GADH;AAEVK,QAAAA,OAAO,EAAG;AAFA,OAAd,EARiB,CAYjB;AACH;;;qCAEgBN,E,EAAI;AACjB,UAAIC,GAAG,GAAG,EAAV;AAEA,WAAKtB,KAAL,CAAWE,GAAX,CAAeqB,GAAf,CAAmB,UAACC,GAAD,EAAS;AACxB,YAAIH,EAAE,IAAIG,GAAG,CAACH,EAAd,EAAkB;AACdC,UAAAA,GAAG,GAAEE,GAAL;AACH;AACJ,OAJD;AAKA,WAAKC,QAAL,CAAc;AACVnB,QAAAA,UAAU,EAAGgB,GADH;AAEVM,QAAAA,OAAO,EAAG;AAFA,OAAd,EARiB,CAYjB;AACH;;;wCAEmB;AAChB,WAAKH,QAAL,CAAc;AACVE,QAAAA,OAAO,EAAG,KADA;AAEVC,QAAAA,OAAO,EAAG,KAFA;AAGVF,QAAAA,SAAS,EAAG;AAHF,OAAd;AAKH;;;kCAEY;AACT,WAAKD,QAAL,CAAc;AAACxB,QAAAA,aAAa,EAAC;AAAf,OAAd;AACH;;;mCAEa;AACV,WAAKwB,QAAL,CAAc;AAACxB,QAAAA,aAAa,EAAC;AAAf,OAAd;AACH,K,CAED;AACA;AACA;AACA;AACA;AACA;AACA;;;;gCAEY4B,C,EAAE;AACV,UAAIP,GAAG,GAAC,KAAKtB,KAAL,CAAW8B,QAAnB;AACAR,MAAAA,GAAG,CAACS,SAAJ,GAAcF,CAAC,CAACG,MAAF,CAASC,KAAvB;AACA,WAAKR,QAAL,CAAc;AACVK,QAAAA,QAAQ,EAACR;AADC,OAAd;AAGH;;;oCACc;AAAA;;AACX,UAAIY,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB/C,SAAS,CAACgD,EAAV,CAAaC,KAAlC,CAAV;AACA,UAAIC,MAAM,GAAC;AACPC,QAAAA,GAAG,EAAEnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBC,SADrC;AAEPC,QAAAA,MAAM,EAAE,MAFD;AAGPC,QAAAA,OAAO,EAAC;AACJ,2BAAiBX,KADb;AAEJ,0BAAiB;AAFb,SAHD;AAOPY,QAAAA,IAAI,EAAE,KAAK9C,KAAL,CAAW8B;AAPV,OAAX;AASAxC,MAAAA,KAAK,CAACiD,MAAD,CAAL,CACCQ,IADD,CACM,UAACC,QAAD,EAAY;AACd,YAAGA,QAAQ,CAACF,IAAT,CAAcG,cAAd,KAA+B,CAAlC,EAAoC;AAChCC,UAAAA,KAAK,CAAC,SAAD,CAAL;;AACA,UAAA,MAAI,CAACnD,KAAL,CAAWoD,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH,SAHD,MAGO;AACHF,UAAAA,KAAK,CAACF,QAAQ,CAACF,IAAT,CAAcrC,OAAf,CAAL;AACH;AACJ,OARD,EASC4C,KATD,CASO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAXD;AAYH;;;kCACa;AAAA;;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAhE,MAAAA,KAAK,CAAC;AAACsD,QAAAA,MAAM,EAAC,KAAR;AAAcJ,QAAAA,GAAG,EAACnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBC,SAAzD;AAAoEE,QAAAA,OAAO,EAAC;AAC9E,0BAAe,kBAD+D;AAE9E,+BAAoB;AAF0D;AAA5E,OAAD,CAAL,CAICE,IAJD,CAIM,UAACC,QAAD,EAAY;AACd,QAAA,MAAI,CAACvB,QAAL,CAAc;AACVvB,UAAAA,GAAG,EAAE8C,QAAQ,CAACF;AADJ,SAAd;AAGH,OARD,EASCO,KATD,CASO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAXD,EAVU,CAsBV;;AACAhE,MAAAA,KAAK,CAAC;AAACsD,QAAAA,MAAM,EAAC,KAAR;AAAcJ,QAAAA,GAAG,EAACnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBe,OAApB,CAA4BC,KAAjE;AAAwEb,QAAAA,OAAO,EAAC;AAClF,0BAAe,kBADmE;AAChD,+BAAoB;AAD4B;AAAhF,OAAD,CAAL,CAGCE,IAHD,CAGM,UAACC,QAAD,EAAY;AACd,QAAA,MAAI,CAACvB,QAAL,CAAc;AACVtB,UAAAA,OAAO,EAAE6C,QAAQ,CAACF;AADR,SAAd;AAGH,OAPD,EAQCO,KARD,CAQO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAVD,EAvBU,CAkCV;;AACAhE,MAAAA,KAAK,CAAC;AAACsD,QAAAA,MAAM,EAAC,KAAR;AAAcJ,QAAAA,GAAG,EAACnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBiB,IAAzD;AAA+Dd,QAAAA,OAAO,EAAC;AACzE,0BAAe,kBAD0D;AACvC,+BAAoB;AADmB;AAAvE,OAAD,CAAL,CAGCE,IAHD,CAGM,UAACC,QAAD,EAAY;AACd,QAAA,MAAI,CAACvB,QAAL,CAAc;AACVrB,UAAAA,IAAI,EAAE4C,QAAQ,CAACF;AADL,SAAd;AAGH,OAPD,EAQCO,KARD,CAQO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAVD,EAnCU,CA8CV;;AACAhE,MAAAA,KAAK,CAAC;AAACsD,QAAAA,MAAM,EAAC,KAAR;AAAcJ,QAAAA,GAAG,EAACnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBkB,QAAzD;AAAmEf,QAAAA,OAAO,EAAC;AAC7E,0BAAe,kBAD8D;AAC3C,+BAAoB;AADuB;AAA3E,OAAD,CAAL,CAGCE,IAHD,CAGM,UAACC,QAAD,EAAY;AACd,QAAA,MAAI,CAACvB,QAAL,CAAc;AACVpB,UAAAA,QAAQ,EAAE2C,QAAQ,CAACF;AADT,SAAd;AAGH,OAPD,EAQCO,KARD,CAQO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAVD;AAWH,K,CAED;AACA;AACA;AACA;AAEA;AACA;AACF;AACD;AACA;AACA;AACA;AACG;AACA;AACH;AACG;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;wCACmB;AACf,WAAKO,WAAL;AACH;;;kCACaC,K,EAAM;AAAA;;AAChB,UAAI5B,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB/C,SAAS,CAACgD,EAAV,CAAaC,KAAlC,CAAZ;AACA,UAAIC,MAAM,GAAG;AACTC,QAAAA,GAAG,EAAEnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBqB,GAAvC,GAA2CD,KADvC;AAETlB,QAAAA,MAAM,EAAE,QAFC;AAGTC,QAAAA,OAAO,EAAE;AACL,2BAAiBX;AADZ;AAHA,OAAb;AAOA5C,MAAAA,KAAK,CAACiD,MAAD,CAAL,CACCQ,IADD,CACM,UAACC,QAAD,EAAY;AACd,YAAIgB,YAAY,GAAG,CAAC,CAApB;;AACA,QAAA,MAAI,CAAChE,KAAL,CAAWE,GAAX,CAAeqB,GAAf,CAAmB,UAAC0C,GAAD,EAAMC,GAAN,EAAY;AAC3B,cAAGD,GAAG,CAACE,GAAJ,IAASL,KAAZ,EAAkB;AACdE,YAAAA,YAAY,GAACE,GAAb;;AACA,YAAA,MAAI,CAACnE,KAAL,CAAWoD,OAAX,CAAmBiB,MAAnB;AACH;AACJ,SALD;;AAMA,YAAI9C,GAAG,GAAC,MAAI,CAACtB,KAAL,CAAWE,GAAnB;AACAoB,QAAAA,GAAG,CAAC+C,MAAJ,CAAWL,YAAX,EAAwB,CAAxB;;AACA,QAAA,MAAI,CAACvC,QAAL,CAAc;AACVvB,UAAAA,GAAG,EAAEoB;AADK,SAAd;AAGH,OAdD,EAeC+B,KAfD,CAeO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAjBD;AAkBH;;;gCACW9C,M,EAAQC,O,EAAS;AACzB,WAAKgB,QAAL,CAAc;AACVlB,QAAAA,SAAS,EAAG;AACRC,UAAAA,MAAM,EAAGA,MADD;AAERC,UAAAA,OAAO,EAAGA;AAFF,SADF;AAKVkB,QAAAA,OAAO,EAAG,KALA;AAMVC,QAAAA,OAAO,EAAG,KANA;AAOVF,QAAAA,SAAS,EAAG;AAPF,OAAd;AASA,WAAK4C,WAAL;AACH;;;kCAEazC,C,EAAE;AAAA;;AACZ,UAAI0C,CAAC,GAAG1C,CAAC,CAACG,MAAF,CAASC,KAAjB;AACA3C,MAAAA,KAAK,CAAC;AAACsD,QAAAA,MAAM,EAAC,KAAR;AAAcJ,QAAAA,GAAG,EAACnD,SAAS,CAACoD,QAAV,GAAmBpD,SAAS,CAACqD,SAAV,CAAoBqB,GAAvC,GAA2CQ,CAA7D;AAAgE1B,QAAAA,OAAO,EAAC;AAC1E,0BAAe,kBAD2D;AAE1E,+BAAoB;AAFsD;AAAxE,OAAD,CAAL,CAICE,IAJD,CAIM,UAACC,QAAD,EAAY;AACd,QAAA,MAAI,CAACvB,QAAL,CAAc;AACVvB,UAAAA,GAAG,EAAE8C,QAAQ,CAACF;AADJ,SAAd;AAIH,OATD,EAUCO,KAVD,CAUO,UAACC,KAAD,EAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAZD;AAaH;;;6BAEO;AAAA;AAAA;;AACJ,UAAMkB,OAAO,GAAG,CAAC,IAAD,EAAM,UAAN,EAAiB,KAAjB,EAAuB,0BAAvB,EAAkD,KAAlD,EAAwD,QAAxD,CAAhB;AACA,UAAM1B,IAAI,GAAC,EAAX;AAEA,WAAK9C,KAAL,CAAWE,GAAX,CAAeqB,GAAf,CAAmB,UAAAC,GAAG,EAClB;AACI,YAAIF,GAAG,GAAC,EAAR;AACAA,QAAAA,GAAG,CAAC8B,IAAJ,CAAS5B,GAAG,CAACH,EAAb,EAAgBG,GAAG,CAACiD,IAApB,EAAyBjD,GAAG,CAACkD,GAA7B,EAAiClD,GAAG,CAACmD,QAArC,EAA8CnD,GAAG,CAACoD,GAAlD,EAAsD,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAClD;AAAM,UAAA,OAAO,EAAI,mBAAM;AAAC,YAAA,MAAI,CAAC1D,gBAAL,CAAsBM,GAAG,CAACH,EAA1B;AAA8B,WAAtD;AAAwD,UAAA,SAAS,EAAC,cAAlE;AAAiF,UAAA,KAAK,EAAG;AAACwD,YAAAA,QAAQ,EAAG,MAAZ;AAAoBC,YAAAA,YAAY,EAAG;AAAnC,WAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADkD,EAElD;AAAM,UAAA,OAAO,EAAI,mBAAM;AAAC,YAAA,MAAI,CAAC3D,gBAAL,CAAsBK,GAAG,CAACH,EAA1B;AAA8B,WAAtD;AAAwD,UAAA,KAAK,EAAC,YAA9D;AAA2E,UAAA,KAAK,EAAE;AAACwD,YAAAA,QAAQ,EAAG,MAAZ;AAAoBC,YAAAA,YAAY,EAAG;AAAnC,WAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFkD,EAGlD;AAAM,UAAA,OAAO,EAAI,mBAAM;AAAC,YAAA,MAAI,CAAC7D,kBAAL,CAAwBO,GAAG,CAACH,EAA5B;AAAgC,WAAxD;AAA0D,UAAA,KAAK,EAAC,aAAhE;AAA8E,UAAA,KAAK,EAAE;AAACwD,YAAAA,QAAQ,EAAG;AAAZ,WAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHkD,CAAtD;AAMA/B,QAAAA,IAAI,CAACM,IAAL,CAAU9B,GAAV;AACH,OAVL;AAYI,UAAMyD,OAAO,GAAG;AACZC,QAAAA,MAAM,EAAC,KADK;AAEZC,QAAAA,UAAU,EAAE,QAFA;AAGZC,QAAAA,KAAK,EAAE,KAHK;AAIZC,QAAAA,QAAQ,EAAE,KAJE;AAKZC,QAAAA,cAAc,EAAE,KALJ;AAMZC,QAAAA,QAAQ,EAAE,KANE;AAOZC,QAAAA,WAAW,EAAE;AAPD,OAAhB;AASR,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAI,QAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,IAAI,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,OAA6B;AAAM,QAAA,KAAK,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA7B,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,OAA2B;AAAM,QAAA,KAAK,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA3B,CAFJ,EAGI;AAAI,QAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,CADA,EAOA;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAIS,KAAKtF,KAAL,CAAWO,SAAX,CAAqBC,MAArB,IAA+B,CAAhC,GAAqC,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA0B,KAAKR,KAAL,CAAWO,SAAX,CAAqBE,OAA/C,MAArC,GAAsG,EAJ9G,EAOS,KAAKT,KAAL,CAAWO,SAAX,CAAqBC,MAArB,IAA+B,CAAhC,GAAqC,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAyB,KAAKR,KAAL,CAAWO,SAAX,CAAqBE,OAA9C,MAArC,GAAsG,EAP9G,EAWQ;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,6BAA5B;AACA,QAAA,OAAO,EAAG,KAAKC,WADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXR,EAaQ,oBAAC,SAAD;AACA,QAAA,MAAM,EAAI,KAAKV,KAAL,CAAWC,aADrB;AAEA,QAAA,WAAW,EAAI,KAAKmB,WAFpB;AAGA,QAAA,YAAY,EAAE,KAAKL,YAHnB;AAIA,QAAA,GAAG,EAAE,KAAKf,KAAL,CAAWG,OAJhB;AAKA,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWI,IALjB;AAMA,QAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWK,QANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbR,EAoBQ,oBAAC,OAAD;AACA,QAAA,WAAW,EAAI,KAAKe,WADpB;AAEA,QAAA,IAAI,EAAI,KAAKpB,KAAL,CAAWJ,OAFnB;AAGA,QAAA,iBAAiB,EAAI,KAAKkB,iBAH1B;AAIA,QAAA,GAAG,EAAI,KAAKd,KAAL,CAAWM,UAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBR,EA0BQ,oBAAC,SAAD;AACA,QAAA,WAAW,EAAI,KAAKc,WADpB;AAEA,QAAA,MAAM,EAAI,KAAKpB,KAAL,CAAW0B,SAFrB;AAGA,QAAA,GAAG,EAAI,KAAK1B,KAAL,CAAWM,UAHlB;AAIA,QAAA,iBAAiB,EAAI,KAAKQ;AAJ1B,8DAKe,KAAKM,WALpB;AAAA;AAAA;AAAA,uFA1BR,EAiCQ,oBAAC,OAAD;AACA,QAAA,IAAI,EAAI,KAAKpB,KAAL,CAAW4B,OADnB;AAEA,QAAA,iBAAiB,EAAI,KAAKd,iBAF1B;AAGA,QAAA,QAAQ,EAAI,KAAKd,KAAL,CAAWM,UAHvB;AAIA,QAAA,WAAW,EAAI,KAAKc,WAJpB;AAKA,QAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWG,OALpB;AAMA,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWI,IANjB;AAOA,QAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWK,QAPrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCR,EA0CQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1CR,OA0Cc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1Cd,EA2CQ,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAEyC,IAApB;AAA0B,QAAA,OAAO,EAAE0B,OAAnC;AAA4C,QAAA,OAAO,EAAEO,OAArD;AAA8D,QAAA,KAAK,EAAE,WAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3CR,CAPA,CADJ;AA8FC;;;;EA3YiB3F,KAAK,CAACmG,S;;AA+Y5B,eAAezF,OAAf","sourcesContent":["import React from 'react'\nimport apiconfig from '../../../configs/api.config.json'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\nimport EditKrs from './EditKrs';\nimport CreateKrs from './CreateKrs';\nimport { Alert } from 'reactstrap'\nimport DeleteKrs from './DeleteKrs'\nimport ViewKrs from './ViewKrs'\nimport MuiDataTable from 'mui-datatables'\n\n\nclass ListKrs extends React.Component {\n    constructor(props){\n      \n        super(props)\n        this.state={\n           \n            showCreateKrs:false,\n            krs:[],\n            jurusan:[],\n            kota:[],\n            provinsi:[],\n            currentKrs:{},\n            alertData: {\n                status: 0,\n                message: ''\n            }\n            // unit:[]\n        }\n        this.showHandler=this.showHandler.bind(this)\n        this.submitHandler=this.submitHandler.bind(this)\n        // this.changeHandler=this.changeHandler.bind(this)\n        this.unitHandler=this.unitHandler.bind(this)\n        this.closeModalHandler = this.closeModalHandler.bind(this)\n        this.closeHandler=this.closeHandler.bind(this)\n        this.deleteHandler=this.deleteHandler.bind(this)\n        this.deleteModalHandler = this.deleteModalHandler.bind(this)\n        this.viewModalHandler = this.viewModalHandler.bind(this)\n        this.editModalHandler = this.editModalHandler.bind(this)\n        this.modalStatus = this.modalStatus.bind(this)\n    }\n\n    deleteModalHandler(id) {\n        let tmp = {}\n        this.state.krs.map((row) => {\n            if (id == row.id) {\n                tmp = row\n            }\n        })\n        this.setState({\n            currentKrs : tmp,\n            deleteKrs : true\n        })\n    }\n    \n    \n\n    viewModalHandler(id) {\n        //alert(userId)\n        let tmp = {}\n        this.state.krs.map((row) => {\n            if (id == row.id) {\n                tmp = row\n            }\n        })\n        this.setState({\n            currentKrs : tmp,\n            viewKrs : true\n        })\n        //alert(JSON.stringify(this.state.currentUser))\n    }\n\n    editModalHandler(id) {\n        let tmp = {}\n    \n        this.state.krs.map((row) => {\n            if (id == row.id) {\n                tmp =row\n            }\n        })\n        this.setState({                      \n            currentKrs : tmp,\n            editKrs : true\n        })\n        //alert(JSON.stringify(this.state.currentUser))\n    }\n\n    closeModalHandler() {\n        this.setState({\n            viewKrs : false,\n            editKrs : false,\n            deleteKrs : false    \n        })\n    }\n\n    showHandler(){\n        this.setState({showCreateKrs:true})\n    }\n\n    closeHandler(){\n        this.setState({showCreateKrs:false})\n    }\n\n    // changeHandler(e){\n    //     let tmp=this.state.formdata\n    //     tmp[e.target.name]=e.target.value\n    //     this.setState({\n    //         formdata:tmp\n    //     })\n    // }\n    \n    unitHandler(e){\n        let tmp=this.state.formdata\n        tmp.m_unit_id=e.target.value\n        this.setState({\n            formdata:tmp\n        })\n    }\n    submitHandler(){\n        let token=localStorage.getItem(apiconfig.LS.TOKEN)\n        let option={\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.MAHASISWA,\n            method: \"post\",\n            headers:{\n                \"Authorization\": token,\n                \"Content-Type\" : \"application/json\"\n            },\n            data: this.state.formdata\n        }\n        axios(option)\n        .then((response)=>{\n            if(response.data.parameterNilai===1){\n                alert('Success')\n                this.props.history.push('/dashboard')\n            } else {\n                alert(response.data.message)\n            }\n        })\n        .catch((error)=>{\n            console.log(error);            \n        })\n    }\n    getlistData() {\n        //let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        // let option = {\n        //     url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.COMPANY,\n        //     method: \"get\",\n        //     headers: {\n        //         \"Authorization\": token\n        //     }\n        // }\n        // axios(option)\n        axios({method:'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.MAHASISWA, headers:{\n            'Content-Type':'application/json',\n            'Accepted-Language':'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                krs: response.data\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n        //ambil jurusan\n        axios({method:'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.JURUSAN.UTAMA, headers:{\n            'Content-Type':'application/json','Accepted-Language':'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                jurusan: response.data\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n        //ambil kota\n        axios({method:'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.KOTA, headers:{\n            'Content-Type':'application/json','Accepted-Language':'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                kota: response.data\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n        //ambil provinsi\n        axios({method:'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.PROVINSI, headers:{\n            'Content-Type':'application/json','Accepted-Language':'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                provinsi: response.data\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n    \n    // componentWillMount(){\n    //     //this.loadData();\n    //     this.getListCompany()\n    // }\n\n    // componentDidMount(){\n    //     var self = this;\n \t// \t$('#mytable').dataTable({\n\t// \t  \"sPaginationType\": \"bootstrap\",\n\t// \t  \"bAutoWidth\": false,\n\t// \t  \"bDestroy\": true,\t\t\n\t// \t  \"fnDrawCallback\": function() {\t\t  \t\t\n    //         \tself.forceUpdate();        \t\n    //       }, \n\t// \t});\n    // }\n\n    // componentDidUpdate(){\n    //     $('#mytable').dataTable({\n    //      \"sPaginationType\": \"bootstrap\",\n    //      \"bAutoWidth\": false,\n    //      \"bDestroy\": true,\t\n    //    });\n    // }\n    componentDidMount(){\n        this.getlistData()\n    }\n    deleteHandler(param){\n        let token = localStorage.getItem(apiconfig.LS.TOKEN)\n        let option = {\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.KRS+param,\n            method: \"delete\",\n            headers: {\n                \"Authorization\": token\n            }\n        }\n        axios(option)\n        .then((response)=>{\n            let currentindex = -1\n            this.state.krs.map((ele, idx)=>{\n                if(ele._id==param){\n                    currentindex=idx\n                    this.props.history.goBack()\n                }\n            })\n            let tmp=this.state.krs\n            tmp.splice(currentindex,1)\n            this.setState({\n                krs: tmp\n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n    modalStatus(status, message) {\n        this.setState({\n            alertData : {\n                status : status,\n                message : message\n            },\n            viewKrs : false,\n            editKrs : false,\n            deleteKrs : false    \n        })\n        this.getListUnit()\n    }\n\n    searchHandler(e){\n        let i = e.target.value\n        axios({method:'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.KRS+i, headers:{\n            'Content-Type':'application/json',\n            'Accepted-Language':'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                krs: response.data\n                \n            })\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n     \n    render(){\n        const columns = [\"ID\",\"Kode KRS\",\"NIM\",\"Mata Kuliah Yang Diambil\",\"SKS\",\"Action\"];\n        const data=[]\n\n        this.state.krs.map(row =>\n            {\n                let tmp=[]\n                tmp.push(row.id,row.kode,row.nim,row.kdMatkul,row.sks,<Link to='#'>\n                    <span onClick = {() => {this.viewModalHandler(row.id)}} className=\"fa fa-search\" style= {{fontSize : '18px', paddingRight : '30px'}} />\n                    <span onClick = {() => {this.editModalHandler(row.id)}} class=\"fa fa-edit\" style={{fontSize : '18px', paddingRight : '30px'}} />            \n                    <span onClick = {() => {this.deleteModalHandler(row.id)}} class=\"fa fa-trash\" style={{fontSize : '18px'}} />\n                            \n                </Link>)\n                data.push(tmp)\n            }\n            )\n            const options = {\n                filter:false,\n                responsive: \"scroll\",\n                print: false,\n                download: false,\n                selectableRows: false,\n                viewRows: false,\n                rowsPerPage: 5\n            }\n    return (\n        <div>\n        <ul class=\"breadcrumb\">\n            <li><a href=\"/home\">Home</a> <span class=\"divider\">/</span></li>\n            <li><a href=\"#\">Master</a> <span class=\"divider\">/</span></li>\n            <li class=\"active\">List Krs</li>\n        </ul>\n       \n        <div class=\"container\">\n            <h4>List Krs</h4>\n\n             {\n                (this.state.alertData.status == 1) ? <Alert color =\"success\"> {this.state.alertData.message} </Alert>:''\n            }\n            {\n                (this.state.alertData.status == 2) ? <Alert color =\"danger\"> {this.state.alertData.message} </Alert>: ''\n            }\n\n\n                <button type=\"button\" class=\"btn btn-primary float-right\"\n                onClick ={this.showHandler}> Add </button>\n                <CreateKrs\n                create = {this.state.showCreateKrs}\n                modalStatus = {this.modalStatus}\n                closeHandler={this.closeHandler}\n                jur={this.state.jurusan}\n                kota={this.state.kota}\n                provinsi={this.state.provinsi} />\n                <ViewKrs\n                modalStatus = {this.modalStatus}\n                view = {this.state.ViewKrs}\n                closeModalHandler = {this.closeModalHandler} \n                krs = {this.state.currentKrs}\n                />\n                <DeleteKrs\n                modalStatus = {this.modalStatus}\n                delete = {this.state.deleteKrs}\n                krs = {this.state.currentKrs}\n                closeModalHandler = {this.closeModalHandler}\n                modalStatus = {this.modalStatus}\n                 />\n                <EditKrs\n                edit = {this.state.editKrs}\n                closeModalHandler = {this.closeModalHandler}\n                usertest = {this.state.currentKrs} \n                modalStatus = {this.modalStatus}\n                jurusan={this.state.jurusan}\n                kota={this.state.kota}\n                provinsi={this.state.provinsi}\n                /> \n                <br/> <br/>\n                <MuiDataTable data={data} columns={columns} options={options} title={\"User Data\"} />\n                {/* <table id=\"mytable\" class=\"table table-bordered table-striped\">\n                    <thead>\n                    <tr>\n                        <th>No</th>    \n                        <th>ID</th>\n                        <th>NIM</th>\n                        <th>Nama</th>\n                        <th>Kode Jurusan</th>\n                        <th>Alamat</th>\n                        <th>Tanggal Lahir</th>\n                        <th>Action</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                       {\n                            this.state.krs.map((row,x)=>\n                                <tr>\n                                  <td>{x+1}</td>\n                                  <td>{row.id}</td>\n                                  <td>{row.nim}</td>\n                                  <td>{row.nama}</td>\n                                  <td>{row.kdjur}</td>\n                                  <td>{row.alamat}</td>\n                                  <td>{row.tanggalLahir}</td>\n                                  <td>\n                                  <Link to='#'>\n                       <span onClick = {() => {this.viewModalHandler(row.id)}} className=\"fa fa-search\" style={{fontSize : '18px', paddingRight : '30px'}} />    \n                        \n                      <span onClick = {() => {this.editModalHandler(row.id)}} class=\"fa fa-edit\" style={{fontSize : '18px', paddingRight : '30px'}} />            \n                        \n                         <span onClick = {() => {this.deleteModalHandler(row.id)}} class=\"fa fa-trash\" style={{fontSize : '18px'}} />\n                            \n                      </Link>\n                    </td>\n                                </tr>\n                            )\n                       }\n                    </tbody>\n                </table> */}\n                </div>\n                </div>\n        )\n    }\n}\n\n        \nexport default ListKrs"]},"metadata":{},"sourceType":"module"}