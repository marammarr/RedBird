{"ast":null,"code":"import _regeneratorRuntime from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/eksad/Documents/Projek Frontend/src/components/Login.js\";\nimport React from 'react';\nimport API from '../helpers/API';\nimport config from '../configs/api.config.json';\nimport Axios from 'axios';\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      formdata: {\n        username: '',\n        password: ''\n      },\n      isRequest: false\n    };\n    _this.onSignIn = _this.onSignIn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.textChanged = _this.textChanged.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"textChanged\",\n    value: function textChanged(e) {\n      var tmp = this.state.formdata;\n      tmp[e.target.name] = e.target.value;\n      this.setState({\n        formdata: tmp\n      });\n    }\n  }, {\n    key: \"onSignIn\",\n    value: function () {\n      var _onSignIn = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  isRequest: true\n                }); // const tmp = []\n                // tmp = ({\n                //     \"username\": this.state.formdata.username,\n                //     \"password\": this.state.formdata.password\n                // })\n\n                _context.next = 3;\n                return API.login(this.state.formdata.username, this.state.formdata.password);\n\n              case 3:\n                result = _context.sent;\n                //let result = await API.login(tmp)\n                console.log(result);\n\n                if (result.data.parameterNilai == 1) {\n                  //alert(JSON.stringify(result))\n\n                  /*localStorage.setItem(config.LS.USERDATA, JSON.stringify(result.message.userdata))\n                  localStorage.setItem(config.LS.TOKEN, result.message.token)\n                  this.props.history.push('/dashboard')*/\n                  alert(\"login berhasil\");\n                  console.log(JSON.stringify(result));\n                  this.props.history.push('/home');\n                } else if (result.parameterNilai == -2) {\n                  alert(result.response);\n                } else {\n                  alert(result.response);\n                }\n\n                this.setState({\n                  isRequest: false\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onSignIn() {\n        return _onSignIn.apply(this, arguments);\n      }\n\n      return onSignIn;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form-signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"h3 mb-3 font-weight-normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Sign In\"), React.createElement(\"label\", {\n        for: \"inputEmail\",\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Username\",\n        name: \"username\",\n        required: \"\",\n        autofocus: \"\",\n        value: this.state.username,\n        onChange: this.textChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"inputPassword\",\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        name: \"password\",\n        required: \"\",\n        value: this.state.password,\n        onChange: this.textChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-lg btn-primary btn-block\",\n        disabled: this.state.isRequest,\n        type: \"button\",\n        onClick: this.onSignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"p\", {\n        className: \"mt-5 mb-3 text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\xA9 2017-2018\")));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/eksad/Documents/Projek Frontend/src/components/Login.js"],"names":["React","API","config","Axios","Login","props","state","formdata","username","password","isRequest","onSignIn","bind","textChanged","e","tmp","target","name","value","setState","login","result","console","log","data","parameterNilai","alert","JSON","stringify","history","push","response","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport API from '../helpers/API'\nimport config from '../configs/api.config.json'\nimport Axios from 'axios';\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            \n            formdata: {\n                username: '',\n                password: ''\n            },\n            isRequest: false\n        }\n        this.onSignIn = this.onSignIn.bind(this)\n        this.textChanged = this.textChanged.bind(this)\n    }\n    textChanged(e) {\n        let tmp = this.state.formdata\n        tmp[e.target.name] = e.target.value\n        this.setState({\n            formdata: tmp\n        })\n    }\n    async onSignIn() {\n        this.setState({\n            isRequest: true\n        })\n        // const tmp = []\n        // tmp = ({\n        //     \"username\": this.state.formdata.username,\n        //     \"password\": this.state.formdata.password\n        // })\n        let result = await API.login(this.state.formdata.username, this.state.formdata.password)\n        //let result = await API.login(tmp)\n        console.log(result)\n        if (result.data.parameterNilai==1) {\n           //alert(JSON.stringify(result))\n            /*localStorage.setItem(config.LS.USERDATA, JSON.stringify(result.message.userdata))\n            localStorage.setItem(config.LS.TOKEN, result.message.token)\n            this.props.history.push('/dashboard')*/\n            alert(\"login berhasil\")\n            console.log(JSON.stringify(result))\n            this.props.history.push('/home')\n        } else if(result.parameterNilai==-2){\n            alert(result.response)\n        }else{\n            alert(result.response)\n        }\n        this.setState({\n            isRequest: false\n        })\n    }\n    render() {\n        return (\n            <div className=\"text-center\">\n                <form className=\"form-signin\">\n                    <h1 className=\"h3 mb-3 font-weight-normal\">Sign In</h1>\n\n                    <label for=\"inputEmail\" className=\"sr-only\">Email address</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Username\" name=\"username\" required=\"\" autofocus=\"\" value={this.state.username} onChange={this.textChanged} />\n\n                    <label for=\"inputPassword\" className=\"sr-only\">Password</label>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Password\" name=\"password\" required=\"\" value={this.state.password} onChange={this.textChanged} />\n\n                    <button className=\"btn btn-lg btn-primary btn-block\" disabled={this.state.isRequest} type=\"button\" onClick={this.onSignIn}>Sign in</button>\n                    <p className=\"mt-5 mb-3 text-muted\">© 2017-2018</p>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}