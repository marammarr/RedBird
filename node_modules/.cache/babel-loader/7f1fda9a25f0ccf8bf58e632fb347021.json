{"ast":null,"code":"import _classCallCheck from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/eksad/Documents/Projek Frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/eksad/Documents/Projek Frontend/src/components/content/mahasiswa/CreateMahasiswa.js\";\nimport React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap';\nimport axios from 'axios';\nimport apiconfig from '../../../configs/api.config.json';\nimport { Link } from 'react-router-dom';\nimport Select from 'react-select';\n\nvar CreateMahasiswa =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CreateMahasiswa, _React$Component);\n\n  function CreateMahasiswa(props) {\n    var _this;\n\n    _classCallCheck(this, CreateMahasiswa);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateMahasiswa).call(this, props)); // let number=this.props.company\n    // console.log(number)\n    //let userdata=JSON.parse(localStorage.getItem(apiconfig.LS.USERDATA))\n    // let userdata=\"\"\n    // if(localStorage.getItem(apiconfig.LS.TOKEN)!=null){\n    //let   userdata =JSON.parse(localStorage.getItem(apiconfig.LS.USERDATA))\n    //}\n\n    _this.handleChange1 = function (selectedOption) {\n      _this.setState({\n        selectedOptionProv: selectedOption\n      });\n      /* alert(this.state.selectedOptionProv.value) */\n\n    };\n\n    _this.handleChange2 = function (selectedOption) {\n      _this.setState({\n        selectedOptionKot: selectedOption\n      });\n      /* alert(this.state.selectedOptionKot.value) */\n\n    };\n\n    _this.state = {\n      formdata: {\n        id: '',\n        nim: '',\n        kdjur: '',\n        alamat: '',\n        kdkota: '',\n        kdprov: '',\n        tanggalLahir: ''\n      },\n      jurusan: [],\n      kota: [],\n      provinsi: [],\n      selectedOptionProv: {},\n      selectedOptionKot: {} // let number=this.state.company.length\n\n    };\n    _this.submitHandler = _this.submitHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeHandler = _this.changeHandler.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlerChange1 = _this.handleChange1.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlerChange2 = _this.handleChange2.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CreateMahasiswa, [{\n    key: \"changeHandler\",\n    value: function changeHandler(e) {\n      var tmp = this.state.formdata;\n      tmp[e.target.name] = e.target.value;\n      this.setState({\n        formdata: tmp\n      });\n    }\n  }, {\n    key: \"submitHandler\",\n    value: function submitHandler() {\n      var _this2 = this;\n\n      //alert(JSON.stringify(this.state.formdata))\n      //let token=localStorage.getItem(apiconfig.LS.TOKEN)\n      var datasend = this.state.formdata;\n      datasend[\"kdkota\"] = this.state.selectedOptionKot.value;\n      datasend[\"kdprov\"] = this.state.selectedOptionProv.value;\n      var option = {\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.MAHASISWA,\n        method: \"post\",\n        headers: {\n          //\"Authorization\": token,\n          \"Content-Type\": \"application/json\"\n        },\n        data: datasend //this.state.formdata\n\n      };\n      axios(option).then(function (response) {\n        if (response.data.parameterNilai === 1) {\n          // alert('Success')\n          //  //console.log(response)\n          // this.props.history.push('/listMahasiswa')\n          // this.setState({form-field-name\n          //     viewJurusan : false\n          // })\n          _this2.props.modalStatus(1, 'Success');\n        } else {\n          alert(response.status);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      console.log(newProps);\n      this.setState({\n        jurusan: newProps.jur,\n        kota: newProps.kota,\n        provinsi: newProps.provinsi\n      }); // alert(JSON.stringify(newProps.companytest))\n    }\n  }, {\n    key: \"getListKdJur\",\n    value: function getListKdJur() {\n      var _this3 = this;\n\n      axios({\n        method: 'GET',\n        url: apiconfig.BASE_URL + apiconfig.ENDPOINTS.JURUSAN.UTAMA,\n        headers: {\n          'Content-Type': 'application/json',\n          'Accepted-Language': 'application/json'\n        }\n      }).then(function (response) {\n        _this3.setState({\n          jurusan: response.data\n        }); //alert(JSON.stringify(this.state.jurusan)+'\\n'+this.state.jurusan)\n\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } //HANDLE SELECTBOX KOTA & PROVINSI\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      //ATUR SELECTBOX KOTA & PROV\n      var options1 = [];\n      this.state.provinsi.map(function (row, x) {\n        return options1.push({\n          \"value\": row.kode,\n          \"label\": row.nama\n        });\n      });\n      var options2 = [];\n      this.state.kota.map(function (row, x) {\n        return options2.push({\n          \"value\": row.kode,\n          \"label\": row.nama,\n          \"link\": row.kdprov\n        });\n      });\n      console.log(options2);\n      var filteredOptions = options2.filter(function (o) {\n        return o.link === _this4.state.selectedOptionProv.value;\n      });\n      return React.createElement(Modal, {\n        isOpen: this.props.create,\n        className: this.props.className,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \" Add Mahasiswa\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group mb-4 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"ID Mahasiswa\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"\",\n        readOnly: true,\n        name: \"id\",\n        value: this.state.formdata.id,\n        onChange: this.changeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-4 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Nama \"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"Nama Mahasiswa\",\n        name: \"nama\",\n        value: this.state.formdata.nama,\n        onChange: this.changeHandler,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"NIM\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"NIM Mahasiswa\",\n        name: \"nim\",\n        value: this.state.formdata.nim,\n        onChange: this.changeHandler,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Kode Jurusan\"), React.createElement(\"select\", {\n        class: \"form-control\",\n        name: \"kdjur\",\n        value: this.state.formdata.kdjur,\n        onChange: this.changeHandler,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"PILIH JURUSAN\"), this.state.jurusan.map(function (row, x) {\n        return React.createElement(\"option\", {\n          value: row.kode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, row.kode);\n      }))), React.createElement(\"div\", {\n        class: \"input-group mb-5 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Provinsi\"), React.createElement(Select, {\n        class: \"form-control\",\n        name: \"provinsi\",\n        label: this.state.selectedOptionProv.label,\n        value: this.state.selectedOptionProv.value,\n        onChange: this.handleChange1,\n        options: options1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Kota\"), React.createElement(Select, {\n        class: \"form-control\",\n        name: \"kota\",\n        label: this.state.selectedOptionKot.label,\n        value: this.state.selectedOptionKot.value,\n        onChange: this.handleChange2,\n        options: filteredOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"Alamat\"), React.createElement(\"textarea\", {\n        class: \"form-control\",\n        placeholder: \"Alamat Mahasiswa\",\n        name: \"alamat\",\n        value: this.state.formdata.alamat,\n        onChange: this.changeHandler,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Tanggal Lahir\"), React.createElement(\"input\", {\n        type: \"date\",\n        class: \"form-control\",\n        placeholder: \"Tanggal Lahir\",\n        name: \"tanggalLahir\",\n        value: this.state.formdata.tanggalLahir,\n        onChange: this.changeHandler,\n        id: \"date\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }))), React.createElement(\"form\", {\n        class: \"form-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group mb-3 input-group-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }))), React.createElement(ModalFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Button, {\n        color: \"warning\",\n        onClick: this.props.closeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return CreateMahasiswa;\n}(React.Component);\n\nexport default CreateMahasiswa;","map":{"version":3,"sources":["/home/eksad/Documents/Projek Frontend/src/components/content/mahasiswa/CreateMahasiswa.js"],"names":["React","Modal","ModalBody","ModalFooter","ModalHeader","Button","axios","apiconfig","Link","Select","CreateMahasiswa","props","handleChange1","selectedOption","setState","selectedOptionProv","handleChange2","selectedOptionKot","state","formdata","id","nim","kdjur","alamat","kdkota","kdprov","tanggalLahir","jurusan","kota","provinsi","submitHandler","bind","changeHandler","handlerChange1","handlerChange2","e","tmp","target","name","value","datasend","option","url","BASE_URL","ENDPOINTS","MAHASISWA","method","headers","data","then","response","parameterNilai","modalStatus","alert","status","catch","error","console","log","newProps","jur","JURUSAN","UTAMA","options1","map","row","x","push","kode","nama","options2","filteredOptions","filter","o","link","create","className","label","closeHandler","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button } from 'reactstrap'\nimport axios from 'axios'\nimport apiconfig from '../../../configs/api.config.json'\nimport { Link } from 'react-router-dom'\nimport Select from 'react-select'\n\nclass CreateMahasiswa extends React.Component{\n    constructor (props){\n        super(props)\n        // let number=this.props.company\n        // console.log(number)\n        //let userdata=JSON.parse(localStorage.getItem(apiconfig.LS.USERDATA))\n        // let userdata=\"\"\n       \n        // if(localStorage.getItem(apiconfig.LS.TOKEN)!=null){\n         //let   userdata =JSON.parse(localStorage.getItem(apiconfig.LS.USERDATA))\n        //}\n        this.state={\n            formdata:{\n                id:'',\n                nim:'',\n                kdjur:'',\n                alamat:'',\n                kdkota:'',\n                kdprov:'',\n                tanggalLahir:''\n            },\n            jurusan:[],\n            kota:[],\n            provinsi:[],\n            selectedOptionProv: {},\n            selectedOptionKot: {}\n        }\n        // let number=this.state.company.length\n        this.submitHandler=this.submitHandler.bind(this)\n        this.changeHandler=this.changeHandler.bind(this)\n        this.handlerChange1=this.handleChange1.bind(this)\n        this.handlerChange2=this.handleChange2.bind(this)\n    }\n    changeHandler(e){\n        let tmp=this.state.formdata\n        tmp[e.target.name]=e.target.value\n        this.setState({\n            formdata:tmp\n        })\n    }\n    submitHandler(){\n        //alert(JSON.stringify(this.state.formdata))\n        //let token=localStorage.getItem(apiconfig.LS.TOKEN)\n        let datasend = this.state.formdata\n        datasend[\"kdkota\"]=this.state.selectedOptionKot.value\n        datasend[\"kdprov\"]=this.state.selectedOptionProv.value\n        let option={\n            url: apiconfig.BASE_URL+apiconfig.ENDPOINTS.MAHASISWA,\n            method: \"post\",\n            headers:{\n                //\"Authorization\": token,\n                \"Content-Type\" : \"application/json\"\n            },\n            data: datasend//this.state.formdata\n        }\n        axios(option)\n        .then((response)=>{\n            if(response.data.parameterNilai===1){\n                // alert('Success')\n                //  //console.log(response)\n                // this.props.history.push('/listMahasiswa')\n                // this.setState({form-field-name\n                //     viewJurusan : false\n                // })\n\n                this.props.modalStatus(1,'Success')\n            } else {\n                alert(response.status)\n            }\n        })\n        .catch((error)=>{\n            console.log(error);            \n        })\n    }\n    \n    componentWillReceiveProps(newProps) {\n        console.log(newProps)\n        this.setState({\n            jurusan : newProps.jur,\n            kota : newProps.kota,\n            provinsi : newProps.provinsi\n        })\n       // alert(JSON.stringify(newProps.companytest))\n    }\n    getListKdJur(){\n        \n        axios({method:'GET',url:apiconfig.BASE_URL+apiconfig.ENDPOINTS.JURUSAN.UTAMA, headers:{\n            'Content-Type':'application/json',\n            'Accepted-Language':'application/json'\n        }})\n        .then((response)=>{\n            this.setState({\n                jurusan: response.data\n            })\n            //alert(JSON.stringify(this.state.jurusan)+'\\n'+this.state.jurusan)\n        })\n        .catch((error)=>{\n            console.log(error)\n        })\n    }\n\n    //HANDLE SELECTBOX KOTA & PROVINSI\n    \n    handleChange1 = (selectedOption) => {\n      this.setState({selectedOptionProv:selectedOption})\n      /* alert(this.state.selectedOptionProv.value) */\n    };\n    \n    handleChange2 = (selectedOption) => {\n      this.setState({selectedOptionKot: selectedOption})\n      /* alert(this.state.selectedOptionKot.value) */\n    }\n    \n    render(){\n\n        //ATUR SELECTBOX KOTA & PROV\n        const options1 = []\n        this.state.provinsi.map((row,x)=>\n            options1.push({\"value\":row.kode, \"label\":row.nama})\n        )\n        \n          const options2 = []\n          this.state.kota.map((row,x)=>\n            options2.push({\"value\":row.kode, \"label\":row.nama, \"link\":row.kdprov})\n            )\n            console.log(options2)\n      \n          const filteredOptions = options2.filter((o) => o.link === this.state.selectedOptionProv.value)\n        return(\n            \n            <Modal isOpen={this.props.create} className={this.props.className}>\n                <ModalHeader> Add Mahasiswa</ModalHeader>\n                <ModalBody >\n                <form>\n                <div class =\"input-group mb-4 input-group-sm\">\n                    <label for=\"text\">ID Mahasiswa</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"\" readOnly\n                    name=\"id\" value={this.state.formdata.id} onChange={this.changeHandler} />\n                </div>\n                <div class =\"input-group mb-4 input-group-sm\">\n                    <label for=\"text\">Nama </label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Nama Mahasiswa\" \n                    name=\"nama\" value={this.state.formdata.nama} onChange={this.changeHandler} required/>\n                </div>\n                <div class =\"input-group mb-3 input-group-sm\">\n                     <label for=\"text\">NIM</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"NIM Mahasiswa\" \n                    name=\"nim\" value={this.state.formdata.nim} onChange={this.changeHandler} required/>\n                </div>\n                <div class=\"input-group mb-3 input-group-sm\">\n                     <label for=\"text\">Kode Jurusan</label>\n                    <select class=\"form-control\" \n                    name=\"kdjur\" value={this.state.formdata.kdjur} onChange={this.changeHandler} required>\n                    <option value=\"\">PILIH JURUSAN</option>\n                    {\n                        this.state.jurusan.map((row,x)=>\n                        <option value={row.kode}>{row.kode}</option>\n                        )\n                    }\n                    \n                    </select>\n                </div>\n                <div class =\"input-group mb-5 input-group-sm\">\n                        <p>Provinsi</p>\n                        <Select class=\"form-control\"\n                        name=\"provinsi\"\n                        label={this.state.selectedOptionProv.label}\n                        value={this.state.selectedOptionProv.value}\n                        onChange={this.handleChange1}\n                        options={options1}\n                        />\n                        <p>Kota</p>\n                        <Select class=\"form-control\"\n                        name=\"kota\"\n                        label={this.state.selectedOptionKot.label}\n                        value={this.state.selectedOptionKot.value}\n                        onChange={this.handleChange2}\n                        options={filteredOptions}\n                        />\n                </div>\n                <div class =\"input-group mb-3 input-group-sm\">\n                     <label for=\"text\">Alamat</label>\n                    <textarea class=\"form-control\" placeholder=\"Alamat Mahasiswa\" \n                    name=\"alamat\" value={this.state.formdata.alamat} onChange={this.changeHandler} required/>\n                    \n                     <label for=\"text\">Tanggal Lahir</label>\n                    <input type=\"date\" class=\"form-control\" placeholder=\"Tanggal Lahir\" \n                    name=\"tanggalLahir\" value={this.state.formdata.tanggalLahir} onChange={this.changeHandler} id=\"date\" required/>\n                    \n                </div>\n                </form>\n                    <form class=\"form-inline\">\n                    <div class =\"input-group mb-3 input-group-sm\">\n                    \n                    {/* <label for=\"text\">address</label>\n                    <textarea type=\"text-area\" class=\"form-control\" placeholder=\"address\" \n                    name=\"address\" value={this.state.formdata.address} onChange={this.changeHandler} required/>\n                    */}\n                   </div>\n                   {/* <form class=\"form-inline\">\n                    <div class =\"input-group mb-3 input-group-sm\">\n                    <label>phone</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"phone\" \n                    name=\"phone\" value={this.state.formdata.phone} onChange={this.changeHandler} required/>\n                   \n                       </div>\n                       </form> */}\n                    </form>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"primary\" onClick ={this.submitHandler}>Save</Button>\n                    <Button color=\"warning\" onClick={this.props.closeHandler}>Cancel</Button>\n                </ModalFooter>\n        </Modal>\n        )\n    }\n}\nexport default CreateMahasiswa"]},"metadata":{},"sourceType":"module"}